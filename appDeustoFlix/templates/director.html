{% extends "base.html" %}
{% load static %}
{% block contenido %}
<div class="portfolio__inner">
    <div class="infoEsp">
        <div class="info-left">
            <h2 class="portfolio__title">{{ director.nombre }}</h2>
            <p class="portfolio__descr">Aquí te mostramos información acerca del director {{ director.nombre }}</p>
            <ul id="info_director">
                <li>Nombre: {{ director.nombre }}</li>
                <li>Fecha nacimiento: {{ director.fecha_nacimiento }}</li>
                <li>Nacionalidad: {{ director.nacionalidad }}</li>
                <li>Premiado: {{ director.premiado }}</li>
            </ul>
        </div>
        <div class="image-right">
            {% with director.imagen.name|slice:"4:" as sin_img %}
                {% with 'images/'|add:sin_img as imagen %}
                    <img src="{% static imagen %}" alt="Imagen Director">
                {% endwith %}
            {% endwith %}
        </div>
    </div>
</div>

<div class="peliculasFiltradas">
    <p class="portfolio__descr">Películas dirigidas por {{ director.nombre }}</p>
    {% if peliculasDirector %}
            {% for pelicula in peliculasDirector %}
                <div class="entidad">
                    <h3 id="nombre_pelicula">{{ pelicula.nombre }}</h3>
                    {% with pelicula.imagen.name|slice:"4:" as sin_img %}
                        {% with 'images/'|add:sin_img as imagen %}
                            <a href="{% url 'show_pelicula' pelicula.id %}">
                            <img src="{% static imagen %}" alt="Imagen Pelicula">
                            </a>
                        {% endwith %}
                    {% endwith %}
                </div>
                {% if forloop.counter|divisibleby:4 %}
                    <div style="clear: both;"></div>
                {% endif %}
            {% endfor %}
        {% else %}
            <p id="No_peliculas">No hay películas disponibles.</p>
        {% endif %}
</div>
{% endblock %}
